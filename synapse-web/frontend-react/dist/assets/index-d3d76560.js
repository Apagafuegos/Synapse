import{r as c,a as Ie,b as Ke,c as R}from"./vendor-d6de9d8b.js";import{u as Ue,L as Be,R as We,a as P,N as He,B as Ve}from"./router-41a8dd64.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();var be={exports:{}},G={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ze=c,Ge=Symbol.for("react.element"),Je=Symbol.for("react.fragment"),Ze=Object.prototype.hasOwnProperty,Xe=ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ye={key:!0,ref:!0,__self:!0,__source:!0};function xe(i,t,r){var e,n={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(e in t)Ze.call(t,e)&&!Ye.hasOwnProperty(e)&&(n[e]=t[e]);if(i&&i.defaultProps)for(e in t=i.defaultProps,t)n[e]===void 0&&(n[e]=t[e]);return{$$typeof:Ge,type:i,key:s,ref:a,props:n,_owner:Xe.current}}G.Fragment=Je;G.jsx=xe;G.jsxs=xe;be.exports=G;var u=be.exports,ne={},fe=Ie;ne.createRoot=fe.createRoot,ne.hydrateRoot=fe.hydrateRoot;function re(i,t){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},re(i,t)}function J(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,re(i,t)}var Z=function(){function i(){this.listeners=[]}var t=i.prototype;return t.subscribe=function(e){var n=this,s=e||function(){};return this.listeners.push(s),this.onSubscribe(),function(){n.listeners=n.listeners.filter(function(a){return a!==s}),n.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},i}();function y(){return y=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)({}).hasOwnProperty.call(r,e)&&(i[e]=r[e])}return i},y.apply(null,arguments)}var we=typeof window>"u";function O(){}function et(i,t){return typeof i=="function"?i(t):i}function tt(i){return typeof i=="number"&&i>=0&&i!==1/0}function H(i){return Array.isArray(i)?i:[i]}function nt(i,t){return Math.max(i+(t||0)-Date.now(),0)}function Y(i,t,r){return K(i)?typeof t=="function"?y({},r,{queryKey:i,queryFn:t}):y({},t,{queryKey:i}):i}function _n(i,t,r){return K(i)?typeof t=="function"?y({},r,{mutationKey:i,mutationFn:t}):y({},t,{mutationKey:i}):typeof i=="function"?y({},t,{mutationFn:i}):y({},i)}function M(i,t,r){return K(i)?[y({},t,{queryKey:i}),r]:[i||{},t]}function rt(i,t){if(i===!0&&t===!0||i==null&&t==null)return"all";if(i===!1&&t===!1)return"none";var r=i??!t;return r?"active":"inactive"}function he(i,t){var r=i.active,e=i.exact,n=i.fetching,s=i.inactive,a=i.predicate,o=i.queryKey,l=i.stale;if(K(o)){if(e){if(t.queryHash!==ae(o,t.options))return!1}else if(!V(t.queryKey,o))return!1}var f=rt(r,s);if(f==="none")return!1;if(f!=="all"){var h=t.isActive();if(f==="active"&&!h||f==="inactive"&&h)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||typeof n=="boolean"&&t.isFetching()!==n||a&&!a(t))}function de(i,t){var r=i.exact,e=i.fetching,n=i.predicate,s=i.mutationKey;if(K(s)){if(!t.options.mutationKey)return!1;if(r){if(D(t.options.mutationKey)!==D(s))return!1}else if(!V(t.options.mutationKey,s))return!1}return!(typeof e=="boolean"&&t.state.status==="loading"!==e||n&&!n(t))}function ae(i,t){var r=t?.queryKeyHashFn||D;return r(i)}function D(i){var t=H(i);return it(t)}function it(i){return JSON.stringify(i,function(t,r){return ie(r)?Object.keys(r).sort().reduce(function(e,n){return e[n]=r[n],e},{}):r})}function V(i,t){return Ce(H(i),H(t))}function Ce(i,t){return i===t?!0:typeof i!=typeof t?!1:i&&t&&typeof i=="object"&&typeof t=="object"?!Object.keys(t).some(function(r){return!Ce(i[r],t[r])}):!1}function Oe(i,t){if(i===t)return i;var r=Array.isArray(i)&&Array.isArray(t);if(r||ie(i)&&ie(t)){for(var e=r?i.length:Object.keys(i).length,n=r?t:Object.keys(t),s=n.length,a=r?[]:{},o=0,l=0;l<s;l++){var f=r?l:n[l];a[f]=Oe(i[f],t[f]),a[f]===i[f]&&o++}return e===s&&o===e?i:a}return t}function kn(i,t){if(i&&!t||t&&!i)return!1;for(var r in i)if(i[r]!==t[r])return!1;return!0}function ie(i){if(!ve(i))return!1;var t=i.constructor;if(typeof t>"u")return!0;var r=t.prototype;return!(!ve(r)||!r.hasOwnProperty("isPrototypeOf"))}function ve(i){return Object.prototype.toString.call(i)==="[object Object]"}function K(i){return typeof i=="string"||Array.isArray(i)}function st(i){return new Promise(function(t){setTimeout(t,i)})}function me(i){Promise.resolve().then(i).catch(function(t){return setTimeout(function(){throw t})})}function Ee(){if(typeof AbortController=="function")return new AbortController}var at=function(i){J(t,i);function t(){var e;return e=i.call(this)||this,e.setup=function(n){var s;if(!we&&((s=window)!=null&&s.addEventListener)){var a=function(){return n()};return window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",a,!1),function(){window.removeEventListener("visibilitychange",a),window.removeEventListener("focus",a)}}},e}var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},r.setEventListener=function(n){var s,a=this;this.setup=n,(s=this.cleanup)==null||s.call(this),this.cleanup=n(function(o){typeof o=="boolean"?a.setFocused(o):a.onFocus()})},r.setFocused=function(n){this.focused=n,n&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(n){n()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(Z),B=new at,ot=function(i){J(t,i);function t(){var e;return e=i.call(this)||this,e.setup=function(n){var s;if(!we&&((s=window)!=null&&s.addEventListener)){var a=function(){return n()};return window.addEventListener("online",a,!1),window.addEventListener("offline",a,!1),function(){window.removeEventListener("online",a),window.removeEventListener("offline",a)}}},e}var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},r.setEventListener=function(n){var s,a=this;this.setup=n,(s=this.cleanup)==null||s.call(this),this.cleanup=n(function(o){typeof o=="boolean"?a.setOnline(o):a.onOnline()})},r.setOnline=function(n){this.online=n,n&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(n){n()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(Z),W=new ot;function ut(i){return Math.min(1e3*Math.pow(2,i),3e4)}function z(i){return typeof i?.cancel=="function"}var je=function(t){this.revert=t?.revert,this.silent=t?.silent};function ee(i){return i instanceof je}var Pe=function(t){var r=this,e=!1,n,s,a,o;this.abort=t.abort,this.cancel=function(m){return n?.(m)},this.cancelRetry=function(){e=!0},this.continueRetry=function(){e=!1},this.continue=function(){return s?.()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(m,d){a=m,o=d});var l=function(d){r.isResolved||(r.isResolved=!0,t.onSuccess==null||t.onSuccess(d),s?.(),a(d))},f=function(d){r.isResolved||(r.isResolved=!0,t.onError==null||t.onError(d),s?.(),o(d))},h=function(){return new Promise(function(d){s=d,r.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){s=void 0,r.isPaused=!1,t.onContinue==null||t.onContinue()})},v=function m(){if(!r.isResolved){var d;try{d=t.fn()}catch(x){d=Promise.reject(x)}n=function(w){if(!r.isResolved&&(f(new je(w)),r.abort==null||r.abort(),z(d)))try{d.cancel()}catch{}},r.isTransportCancelable=z(d),Promise.resolve(d).then(l).catch(function(x){var w,g;if(!r.isResolved){var p=(w=t.retry)!=null?w:3,b=(g=t.retryDelay)!=null?g:ut,E=typeof b=="function"?b(r.failureCount,x):b,Q=p===!0||typeof p=="number"&&r.failureCount<p||typeof p=="function"&&p(r.failureCount,x);if(e||!Q){f(x);return}r.failureCount++,t.onFail==null||t.onFail(r.failureCount,x),st(E).then(function(){if(!B.isFocused()||!W.isOnline())return h()}).then(function(){e?f(x):m()})}})}};v()},ct=function(){function i(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var t=i.prototype;return t.batch=function(e){var n;this.transactions++;try{n=e()}finally{this.transactions--,this.transactions||this.flush()}return n},t.schedule=function(e){var n=this;this.transactions?this.queue.push(e):me(function(){n.notifyFn(e)})},t.batchCalls=function(e){var n=this;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.schedule(function(){e.apply(void 0,a)})}},t.flush=function(){var e=this,n=this.queue;this.queue=[],n.length&&me(function(){e.batchNotifyFn(function(){n.forEach(function(s){e.notifyFn(s)})})})},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},i}(),C=new ct,Fe=console;function _e(){return Fe}function lt(i){Fe=i}var ft=function(){function i(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var t=i.prototype;return t.setOptions=function(e){var n;this.options=y({},this.defaultOptions,e),this.meta=e?.meta,this.cacheTime=Math.max(this.cacheTime||0,(n=this.options.cacheTime)!=null?n:5*60*1e3)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),tt(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){e.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,n){var s,a,o=this.state.data,l=et(e,o);return(s=(a=this.options).isDataEqual)!=null&&s.call(a,o,l)?l=o:this.options.structuralSharing!==!1&&(l=Oe(o,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:n?.updatedAt}),l},t.setState=function(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})},t.cancel=function(e){var n,s=this.promise;return(n=this.retryer)==null||n.cancel(e),s?s.then(O).catch(O):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(e){return e.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(e){return e.getCurrentResult().isStale})},t.isStaleByTime=function(e){return e===void 0&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!nt(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,n=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});n&&n.refetch(),(e=this.retryer)==null||e.continue()},t.onOnline=function(){var e,n=this.observers.find(function(s){return s.shouldFetchOnReconnect()});n&&n.refetch(),(e=this.retryer)==null||e.continue()},t.addObserver=function(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){this.observers.indexOf(e)!==-1&&(this.observers=this.observers.filter(function(n){return n!==e}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,n){var s=this,a,o,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var f;return(f=this.retryer)==null||f.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){var h=this.observers.find(function(b){return b.options.queryFn});h&&this.setOptions(h.options)}var v=H(this.queryKey),m=Ee(),d={queryKey:v,pageParam:void 0,meta:this.meta};Object.defineProperty(d,"signal",{enumerable:!0,get:function(){if(m)return s.abortSignalConsumed=!0,m.signal}});var x=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(d)):Promise.reject("Missing queryFn")},w={fetchOptions:n,options:this.options,queryKey:v,state:this.state,fetchFn:x,meta:this.meta};if((a=this.options.behavior)!=null&&a.onFetch){var g;(g=this.options.behavior)==null||g.onFetch(w)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((o=w.fetchOptions)==null?void 0:o.meta)){var p;this.dispatch({type:"fetch",meta:(p=w.fetchOptions)==null?void 0:p.meta})}return this.retryer=new Pe({fn:w.fetchFn,abort:m==null||(l=m.abort)==null?void 0:l.bind(m),onSuccess:function(E){s.setData(E),s.cache.config.onSuccess==null||s.cache.config.onSuccess(E,s),s.cacheTime===0&&s.optionalRemove()},onError:function(E){ee(E)&&E.silent||s.dispatch({type:"error",error:E}),ee(E)||(s.cache.config.onError==null||s.cache.config.onError(E,s),_e().error(E)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:w.options.retry,retryDelay:w.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var n=this;this.state=this.reducer(this.state,e),C.batch(function(){n.observers.forEach(function(s){s.onQueryUpdate(e)}),n.cache.notify({query:n,type:"queryUpdated",action:e})})},t.getDefaultState=function(e){var n=typeof e.initialData=="function"?e.initialData():e.initialData,s=typeof e.initialData<"u",a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,o=typeof n<"u";return{data:n,dataUpdateCount:0,dataUpdatedAt:o?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:o?"success":"idle"}},t.reducer=function(e,n){var s,a;switch(n.type){case"failed":return y({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return y({},e,{isPaused:!0});case"continue":return y({},e,{isPaused:!1});case"fetch":return y({},e,{fetchFailureCount:0,fetchMeta:(s=n.meta)!=null?s:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return y({},e,{data:n.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:(a=n.dataUpdatedAt)!=null?a:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var o=n.error;return ee(o)&&o.revert&&this.revertState?y({},this.revertState):y({},e,{error:o,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return y({},e,{isInvalidated:!0});case"setState":return y({},e,n.state);default:return e}},i}(),ht=function(i){J(t,i);function t(e){var n;return n=i.call(this)||this,n.config=e||{},n.queries=[],n.queriesMap={},n}var r=t.prototype;return r.build=function(n,s,a){var o,l=s.queryKey,f=(o=s.queryHash)!=null?o:ae(l,s),h=this.get(f);return h||(h=new ft({cache:this,queryKey:l,queryHash:f,options:n.defaultQueryOptions(s),state:a,defaultOptions:n.getQueryDefaults(l),meta:s.meta}),this.add(h)),h},r.add=function(n){this.queriesMap[n.queryHash]||(this.queriesMap[n.queryHash]=n,this.queries.push(n),this.notify({type:"queryAdded",query:n}))},r.remove=function(n){var s=this.queriesMap[n.queryHash];s&&(n.destroy(),this.queries=this.queries.filter(function(a){return a!==n}),s===n&&delete this.queriesMap[n.queryHash],this.notify({type:"queryRemoved",query:n}))},r.clear=function(){var n=this;C.batch(function(){n.queries.forEach(function(s){n.remove(s)})})},r.get=function(n){return this.queriesMap[n]},r.getAll=function(){return this.queries},r.find=function(n,s){var a=M(n,s),o=a[0];return typeof o.exact>"u"&&(o.exact=!0),this.queries.find(function(l){return he(o,l)})},r.findAll=function(n,s){var a=M(n,s),o=a[0];return Object.keys(o).length>0?this.queries.filter(function(l){return he(o,l)}):this.queries},r.notify=function(n){var s=this;C.batch(function(){s.listeners.forEach(function(a){a(n)})})},r.onFocus=function(){var n=this;C.batch(function(){n.queries.forEach(function(s){s.onFocus()})})},r.onOnline=function(){var n=this;C.batch(function(){n.queries.forEach(function(s){s.onOnline()})})},t}(Z),dt=function(){function i(r){this.options=y({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||vt(),this.meta=r.meta}var t=i.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){this.observers.indexOf(e)===-1&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter(function(n){return n!==e})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(O).catch(O)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e=this,n,s=this.state.status==="loading",a=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),a=a.then(function(){e.mutationCache.config.onMutate==null||e.mutationCache.config.onMutate(e.state.variables,e)}).then(function(){return e.options.onMutate==null?void 0:e.options.onMutate(e.state.variables)}).then(function(o){o!==e.state.context&&e.dispatch({type:"loading",context:o,variables:e.state.variables})})),a.then(function(){return e.executeMutation()}).then(function(o){n=o,e.mutationCache.config.onSuccess==null||e.mutationCache.config.onSuccess(n,e.state.variables,e.state.context,e)}).then(function(){return e.options.onSuccess==null?void 0:e.options.onSuccess(n,e.state.variables,e.state.context)}).then(function(){return e.options.onSettled==null?void 0:e.options.onSettled(n,null,e.state.variables,e.state.context)}).then(function(){return e.dispatch({type:"success",data:n}),n}).catch(function(o){return e.mutationCache.config.onError==null||e.mutationCache.config.onError(o,e.state.variables,e.state.context,e),_e().error(o),Promise.resolve().then(function(){return e.options.onError==null?void 0:e.options.onError(o,e.state.variables,e.state.context)}).then(function(){return e.options.onSettled==null?void 0:e.options.onSettled(void 0,o,e.state.variables,e.state.context)}).then(function(){throw e.dispatch({type:"error",error:o}),o})})},t.executeMutation=function(){var e=this,n;return this.retryer=new Pe({fn:function(){return e.options.mutationFn?e.options.mutationFn(e.state.variables):Promise.reject("No mutationFn found")},onFail:function(){e.dispatch({type:"failed"})},onPause:function(){e.dispatch({type:"pause"})},onContinue:function(){e.dispatch({type:"continue"})},retry:(n=this.options.retry)!=null?n:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var n=this;this.state=mt(this.state,e),C.batch(function(){n.observers.forEach(function(s){s.onMutationUpdate(e)}),n.mutationCache.notify(n)})},i}();function vt(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function mt(i,t){switch(t.type){case"failed":return y({},i,{failureCount:i.failureCount+1});case"pause":return y({},i,{isPaused:!0});case"continue":return y({},i,{isPaused:!1});case"loading":return y({},i,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return y({},i,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return y({},i,{data:void 0,error:t.error,failureCount:i.failureCount+1,isPaused:!1,status:"error"});case"setState":return y({},i,t.state);default:return i}}var yt=function(i){J(t,i);function t(e){var n;return n=i.call(this)||this,n.config=e||{},n.mutations=[],n.mutationId=0,n}var r=t.prototype;return r.build=function(n,s,a){var o=new dt({mutationCache:this,mutationId:++this.mutationId,options:n.defaultMutationOptions(s),state:a,defaultOptions:s.mutationKey?n.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(o),o},r.add=function(n){this.mutations.push(n),this.notify(n)},r.remove=function(n){this.mutations=this.mutations.filter(function(s){return s!==n}),n.cancel(),this.notify(n)},r.clear=function(){var n=this;C.batch(function(){n.mutations.forEach(function(s){n.remove(s)})})},r.getAll=function(){return this.mutations},r.find=function(n){return typeof n.exact>"u"&&(n.exact=!0),this.mutations.find(function(s){return de(n,s)})},r.findAll=function(n){return this.mutations.filter(function(s){return de(n,s)})},r.notify=function(n){var s=this;C.batch(function(){s.listeners.forEach(function(a){a(n)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var n=this.mutations.filter(function(s){return s.state.isPaused});return C.batch(function(){return n.reduce(function(s,a){return s.then(function(){return a.continue().catch(O)})},Promise.resolve())})},t}(Z);function pt(){return{onFetch:function(t){t.fetchFn=function(){var r,e,n,s,a,o,l=(r=t.fetchOptions)==null||(e=r.meta)==null?void 0:e.refetchPage,f=(n=t.fetchOptions)==null||(s=n.meta)==null?void 0:s.fetchMore,h=f?.pageParam,v=f?.direction==="forward",m=f?.direction==="backward",d=((a=t.state.data)==null?void 0:a.pages)||[],x=((o=t.state.data)==null?void 0:o.pageParams)||[],w=Ee(),g=w?.signal,p=x,b=!1,E=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},Q=function(k,N,j,$){return p=$?[N].concat(p):[].concat(p,[N]),$?[j].concat(k):[].concat(k,[j])},T=function(k,N,j,$){if(b)return Promise.reject("Cancelled");if(typeof j>"u"&&!N&&k.length)return Promise.resolve(k);var S={queryKey:t.queryKey,signal:g,pageParam:j,meta:t.meta},q=E(S),U=Promise.resolve(q).then(function($e){return Q(k,j,$e,$)});if(z(q)){var X=U;X.cancel=q.cancel}return U},F;if(!d.length)F=T([]);else if(v){var ue=typeof h<"u",Le=ue?h:ye(t.options,d);F=T(d,ue,Le)}else if(m){var ce=typeof h<"u",Qe=ce?h:gt(t.options,d);F=T(d,ce,Qe,!0)}else(function(){p=[];var A=typeof t.options.getNextPageParam>"u",k=l&&d[0]?l(d[0],0,d):!0;F=k?T([],A,x[0]):Promise.resolve(Q([],x[0],d[0]));for(var N=function(S){F=F.then(function(q){var U=l&&d[S]?l(d[S],S,d):!0;if(U){var X=A?x[S]:ye(t.options,q);return T(q,A,X)}return Promise.resolve(Q(q,x[S],d[S]))})},j=1;j<d.length;j++)N(j)})();var le=F.then(function(A){return{pages:A,pageParams:p}}),Te=le;return Te.cancel=function(){b=!0,w?.abort(),z(F)&&F.cancel()},le}}}}function ye(i,t){return i.getNextPageParam==null?void 0:i.getNextPageParam(t[t.length-1],t)}function gt(i,t){return i.getPreviousPageParam==null?void 0:i.getPreviousPageParam(t[0],t)}var bt=function(){function i(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new ht,this.mutationCache=r.mutationCache||new yt,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=i.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=B.subscribe(function(){B.isFocused()&&W.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())}),this.unsubscribeOnline=W.subscribe(function(){B.isFocused()&&W.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())})},t.unmount=function(){var e,n;(e=this.unsubscribeFocus)==null||e.call(this),(n=this.unsubscribeOnline)==null||n.call(this)},t.isFetching=function(e,n){var s=M(e,n),a=s[0];return a.fetching=!0,this.queryCache.findAll(a).length},t.isMutating=function(e){return this.mutationCache.findAll(y({},e,{fetching:!0})).length},t.getQueryData=function(e,n){var s;return(s=this.queryCache.find(e,n))==null?void 0:s.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map(function(n){var s=n.queryKey,a=n.state,o=a.data;return[s,o]})},t.setQueryData=function(e,n,s){var a=Y(e),o=this.defaultQueryOptions(a);return this.queryCache.build(this,o).setData(n,s)},t.setQueriesData=function(e,n,s){var a=this;return C.batch(function(){return a.getQueryCache().findAll(e).map(function(o){var l=o.queryKey;return[l,a.setQueryData(l,n,s)]})})},t.getQueryState=function(e,n){var s;return(s=this.queryCache.find(e,n))==null?void 0:s.state},t.removeQueries=function(e,n){var s=M(e,n),a=s[0],o=this.queryCache;C.batch(function(){o.findAll(a).forEach(function(l){o.remove(l)})})},t.resetQueries=function(e,n,s){var a=this,o=M(e,n,s),l=o[0],f=o[1],h=this.queryCache,v=y({},l,{active:!0});return C.batch(function(){return h.findAll(l).forEach(function(m){m.reset()}),a.refetchQueries(v,f)})},t.cancelQueries=function(e,n,s){var a=this,o=M(e,n,s),l=o[0],f=o[1],h=f===void 0?{}:f;typeof h.revert>"u"&&(h.revert=!0);var v=C.batch(function(){return a.queryCache.findAll(l).map(function(m){return m.cancel(h)})});return Promise.all(v).then(O).catch(O)},t.invalidateQueries=function(e,n,s){var a,o,l,f=this,h=M(e,n,s),v=h[0],m=h[1],d=y({},v,{active:(a=(o=v.refetchActive)!=null?o:v.active)!=null?a:!0,inactive:(l=v.refetchInactive)!=null?l:!1});return C.batch(function(){return f.queryCache.findAll(v).forEach(function(x){x.invalidate()}),f.refetchQueries(d,m)})},t.refetchQueries=function(e,n,s){var a=this,o=M(e,n,s),l=o[0],f=o[1],h=C.batch(function(){return a.queryCache.findAll(l).map(function(m){return m.fetch(void 0,y({},f,{meta:{refetchPage:l?.refetchPage}}))})}),v=Promise.all(h).then(O);return f?.throwOnError||(v=v.catch(O)),v},t.fetchQuery=function(e,n,s){var a=Y(e,n,s),o=this.defaultQueryOptions(a);typeof o.retry>"u"&&(o.retry=!1);var l=this.queryCache.build(this,o);return l.isStaleByTime(o.staleTime)?l.fetch(o):Promise.resolve(l.state.data)},t.prefetchQuery=function(e,n,s){return this.fetchQuery(e,n,s).then(O).catch(O)},t.fetchInfiniteQuery=function(e,n,s){var a=Y(e,n,s);return a.behavior=pt(),this.fetchQuery(a)},t.prefetchInfiniteQuery=function(e,n,s){return this.fetchInfiniteQuery(e,n,s).then(O).catch(O)},t.cancelMutations=function(){var e=this,n=C.batch(function(){return e.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(n).then(O).catch(O)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,n){var s=this.queryDefaults.find(function(a){return D(e)===D(a.queryKey)});s?s.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})},t.getQueryDefaults=function(e){var n;return e?(n=this.queryDefaults.find(function(s){return V(e,s.queryKey)}))==null?void 0:n.defaultOptions:void 0},t.setMutationDefaults=function(e,n){var s=this.mutationDefaults.find(function(a){return D(e)===D(a.mutationKey)});s?s.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})},t.getMutationDefaults=function(e){var n;return e?(n=this.mutationDefaults.find(function(s){return V(e,s.mutationKey)}))==null?void 0:n.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(e?._defaulted)return e;var n=y({},this.defaultOptions.queries,this.getQueryDefaults(e?.queryKey),e,{_defaulted:!0});return!n.queryHash&&n.queryKey&&(n.queryHash=ae(n.queryKey,n)),n},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return e?._defaulted?e:y({},this.defaultOptions.mutations,this.getMutationDefaults(e?.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},i}(),xt=Ke.unstable_batchedUpdates;C.setBatchNotifyFunction(xt);var wt=console;lt(wt);var pe=R.createContext(void 0),ke=R.createContext(!1);function Se(i){return i&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=pe),window.ReactQueryClientContext):pe}var Sn=function(){var t=R.useContext(Se(R.useContext(ke)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ct=function(t){var r=t.client,e=t.contextSharing,n=e===void 0?!1:e,s=t.children;R.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var a=Se(n);return R.createElement(ke.Provider,{value:n},R.createElement(a.Provider,{value:r},s))};const Ot=c.createContext(null),te={didCatch:!1,error:null};class Et extends c.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=te}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var r,e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];(r=(e=this.props).onReset)===null||r===void 0||r.call(e,{args:s,reason:"imperative-api"}),this.setState(te)}}componentDidCatch(t,r){var e,n;(e=(n=this.props).onError)===null||e===void 0||e.call(n,t,r)}componentDidUpdate(t,r){const{didCatch:e}=this.state,{resetKeys:n}=this.props;if(e&&r.error!==null&&jt(t.resetKeys,n)){var s,a;(s=(a=this.props).onReset)===null||s===void 0||s.call(a,{next:n,prev:t.resetKeys,reason:"keys"}),this.setState(te)}}render(){const{children:t,fallbackRender:r,FallbackComponent:e,fallback:n}=this.props,{didCatch:s,error:a}=this.state;let o=t;if(s){const l={error:a,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")o=r(l);else if(e)o=c.createElement(e,l);else if(n!==void 0)o=n;else throw a}return c.createElement(Ot.Provider,{value:{didCatch:s,error:a,resetErrorBoundary:this.resetErrorBoundary}},o)}}function jt(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return i.length!==t.length||i.some((r,e)=>!Object.is(r,t[e]))}const Pt="modulepreload",Ft=function(i){return"/"+i},ge={},_=function(t,r,e){if(!r||r.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=Ft(s),s in ge)return;ge[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!e)for(let h=n.length-1;h>=0;h--){const v=n[h];if(v.href===s&&(!a||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":Pt,a||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),a)return new Promise((h,v)=>{f.addEventListener("load",h),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};function Me(i){var t,r,e="";if(typeof i=="string"||typeof i=="number")e+=i;else if(typeof i=="object")if(Array.isArray(i)){var n=i.length;for(t=0;t<n;t++)i[t]&&(r=Me(i[t]))&&(e&&(e+=" "),e+=r)}else for(r in i)i[r]&&(e&&(e+=" "),e+=r);return e}function I(){for(var i,t,r=0,e="",n=arguments.length;r<n;r++)(i=arguments[r])&&(t=Me(i))&&(e&&(e+=" "),e+=t);return e}function _t({title:i,titleId:t,...r},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":t},r),i?c.createElement("title",{id:t},i):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const kt=c.forwardRef(_t),St=kt;function Mt({title:i,titleId:t,...r},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":t},r),i?c.createElement("title",{id:t},i):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Rt=c.forwardRef(Mt),At=Rt;function qt({title:i,titleId:t,...r},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":t},r),i?c.createElement("title",{id:t},i):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const Dt=c.forwardRef(qt),Nt=Dt;function Lt({title:i,titleId:t,...r},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":t},r),i?c.createElement("title",{id:t},i):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const Qt=c.forwardRef(Lt),Tt=Qt;function $t({title:i,titleId:t,...r},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":t},r),i?c.createElement("title",{id:t},i):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const It=c.forwardRef($t),Kt=It;function Ut({title:i,titleId:t,...r},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":t},r),i?c.createElement("title",{id:t},i):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Bt=c.forwardRef(Ut),Wt=Bt;function Ht({title:i,titleId:t,...r},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":t},r),i?c.createElement("title",{id:t},i):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Vt=c.forwardRef(Ht),zt=Vt;function Gt({title:i,titleId:t,...r},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":t},r),i?c.createElement("title",{id:t},i):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Jt=c.forwardRef(Gt),Zt=Jt;function Xt({title:i,titleId:t,...r},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":t},r),i?c.createElement("title",{id:t},i):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Yt=c.forwardRef(Xt),Re=Yt;function en({title:i,titleId:t,...r},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":t},r),i?c.createElement("title",{id:t},i):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const tn=c.forwardRef(en),nn=tn,Ae=c.createContext(void 0);function rn({children:i}){const[t,r]=c.useState(()=>localStorage.getItem("synapse-theme")||"system"),[e,n]=c.useState("light");c.useEffect(()=>{const o=document.documentElement;if(t==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)"),f=h=>{const v=h.matches?"dark":"light";n(v),o.classList.toggle("dark",h.matches)};return f(l),l.addEventListener("change",f),()=>l.removeEventListener("change",f)}else{const l=t==="dark";n(l?"dark":"light"),o.classList.toggle("dark",l)}},[t]);const a={theme:t,setTheme:o=>{localStorage.setItem("synapse-theme",o),r(o)},resolvedTheme:e};return u.jsx(Ae.Provider,{value:a,children:i})}function qe(){const i=c.useContext(Ae);if(i===void 0)throw new Error("useTheme must be used within a ThemeProvider");return i}const De=c.createContext(void 0);function sn({children:i,url:t=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`}){const[r,e]=c.useState("disconnected"),[n,s]=c.useState(null),a=c.useRef(null),o=c.useRef(null),l=c.useRef(0),f=5,h=c.useCallback(()=>{if(a.current?.readyState!==WebSocket.OPEN){e("connecting"),console.log("[WebSocket] Connecting to:",t);try{const g=new WebSocket(t);a.current=g,g.onopen=()=>{console.log("[WebSocket] Connected"),e("connected"),l.current=0},g.onmessage=p=>{try{const b=JSON.parse(p.data);console.log("[WebSocket] Message received:",b),s(b)}catch(b){console.error("[WebSocket] Failed to parse message:",b)}},g.onerror=p=>{console.error("[WebSocket] Error:",p),e("error")},g.onclose=p=>{if(console.log("[WebSocket] Connection closed:",p.code,p.reason),e("disconnected"),a.current=null,!p.wasClean&&l.current<f){const b=Math.pow(2,l.current)*1e3;console.log(`[WebSocket] Reconnecting in ${b}ms...`),o.current=setTimeout(()=>{l.current++,h()},b)}}}catch(g){console.error("[WebSocket] Failed to create connection:",g),e("error")}}},[t]),v=c.useCallback(()=>{o.current&&(clearTimeout(o.current),o.current=null),a.current&&(a.current.close(1e3,"Client disconnect"),a.current=null),e("disconnected")},[]),m=c.useCallback(g=>{if(a.current?.readyState===WebSocket.OPEN)try{a.current.send(JSON.stringify(g)),console.log("[WebSocket] Message sent:",g)}catch(p){console.error("[WebSocket] Failed to send message:",p)}else console.warn("[WebSocket] Cannot send message: connection not open")},[]),d=c.useCallback(g=>{m({type:"subscribe",analysis_id:g})},[m]),x=c.useCallback(g=>{m({type:"unsubscribe",analysis_id:g})},[m]);c.useEffect(()=>(h(),()=>{v()}),[h,v]),c.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const w={status:r,lastMessage:n,sendMessage:m,subscribe:d,unsubscribe:x};return u.jsx(De.Provider,{value:w,children:i})}function Ne(){const i=c.useContext(De);if(i===void 0)throw new Error("useWebSocket must be used within a WebSocketProvider");return i}function an(){const{lastMessage:i}=Ne(),[t,r]=c.useState(null);return c.useEffect(()=>{i?.type==="system_status"&&r(i)},[i]),t}const on=[{name:"Dashboard",href:"/dashboard",icon:zt},{name:"Projects",href:"/projects",icon:Wt},{name:"Settings",href:"/settings",icon:Nt}],un={light:Re,dark:Zt,system:Tt};function cn({children:i}){const[t,r]=c.useState(!1),e=Ue(),{theme:n,setTheme:s}=qe(),{status:a}=Ne(),o=an(),l=()=>{const h=["light","dark","system"],v=h.indexOf(n),m=h[(v+1)%h.length];s(m)},f=un[n]||Re;return u.jsxs("div",{className:"min-h-screen flex bg-gray-50 dark:bg-gray-900",children:[t&&u.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:()=>r(!1),children:u.jsx("div",{className:"absolute inset-0 bg-gray-600 opacity-75"})}),u.jsxs("div",{className:I("fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0",t?"translate-x-0":"-translate-x-full"),children:[u.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-sm",children:"LL"})}),u.jsx("h1",{className:"ml-3 text-xl font-semibold text-gray-900 dark:text-white",children:"Synapse"})]}),u.jsxs("button",{type:"button",className:"lg:hidden p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",onClick:()=>r(!1),children:[u.jsx(nn,{className:"h-5 w-5","aria-hidden":"true"}),u.jsx("span",{className:"sr-only",children:"Close sidebar"})]})]}),u.jsx("nav",{className:"mt-6 px-3",children:u.jsx("ul",{className:"space-y-1",children:on.map(h=>{const v=e.pathname.startsWith(h.href),m=h.icon;return u.jsx("li",{children:u.jsxs(Be,{to:h.href,className:I("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",v?"bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-300":"text-gray-700 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"),onClick:()=>r(!1),children:[u.jsx(m,{className:I("mr-3 h-5 w-5 flex-shrink-0",v?"text-primary-500 dark:text-primary-300":"text-gray-400 group-hover:text-gray-500 dark:text-gray-400 dark:group-hover:text-gray-300"),"aria-hidden":"true"}),h.name]})},h.name)})})}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:I("w-2 h-2 rounded-full",a==="connected"?"bg-success-500":a==="connecting"?"bg-warning-500":"bg-error-500")}),u.jsx("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:a==="connected"?"Online":a})]}),u.jsxs("button",{type:"button",onClick:l,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-md transition-colors",title:`Switch to ${n==="light"?"dark":n==="dark"?"system":"light"} theme`,children:[u.jsx(f,{className:"h-4 w-4","aria-hidden":"true"}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]})]}),o&&!o.online&&u.jsx("div",{className:"mt-2 p-2 bg-warning-50 dark:bg-warning-900/20 rounded-md",children:u.jsx("p",{className:"text-xs text-warning-700 dark:text-warning-300",children:o.message})})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 lg:hidden",children:u.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[u.jsxs("button",{type:"button",className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",onClick:()=>r(!0),children:[u.jsx(At,{className:"h-6 w-6","aria-hidden":"true"}),u.jsx("span",{className:"sr-only",children:"Open sidebar"})]}),u.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Synapse"}),u.jsx("div",{className:"w-10"})," "]})}),u.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:i})]})]})}const ln={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};function fn({size:i="md",className:t,"aria-label":r="Loading"}){return u.jsx("div",{className:I("animate-spin rounded-full border-2 border-current border-t-transparent text-primary-600",ln[i],t),role:"status","aria-label":r,children:u.jsx("span",{className:"sr-only",children:r})})}const hn=c.lazy(()=>_(()=>import("./Dashboard-0e57dd0a.js"),["assets/Dashboard-0e57dd0a.js","assets/api-36b40c7e.js","assets/vendor-d6de9d8b.js","assets/router-41a8dd64.js","assets/ClockIcon-06516420.js"])),dn=c.lazy(()=>_(()=>import("./Projects-d43a6107.js"),["assets/Projects-d43a6107.js","assets/vendor-d6de9d8b.js","assets/useMutation-a48fd688.js","assets/api-36b40c7e.js","assets/router-41a8dd64.js","assets/PlusIcon-fa0a24a4.js"])),vn=c.lazy(()=>_(()=>import("./ProjectDetail-8fa72a2a.js"),["assets/ProjectDetail-8fa72a2a.js","assets/vendor-d6de9d8b.js","assets/useMutation-a48fd688.js","assets/api-36b40c7e.js","assets/NotFound-207f2290.js","assets/router-41a8dd64.js","assets/XCircleIcon-913e6dd0.js","assets/ClockIcon-06516420.js","assets/CheckCircleIcon-27af60e8.js"])),mn=c.lazy(()=>_(()=>import("./AnalysisDetail-9712b8cf.js"),["assets/AnalysisDetail-9712b8cf.js","assets/api-36b40c7e.js","assets/vendor-d6de9d8b.js","assets/ClockIcon-06516420.js","assets/CheckCircleIcon-27af60e8.js","assets/XCircleIcon-913e6dd0.js","assets/router-41a8dd64.js"])),yn=c.lazy(()=>_(()=>import("./Settings-9c300a5a.js"),["assets/Settings-9c300a5a.js","assets/vendor-d6de9d8b.js","assets/useMutation-a48fd688.js","assets/api-36b40c7e.js","assets/CheckCircleIcon-27af60e8.js","assets/router-41a8dd64.js"])),pn=c.lazy(()=>_(()=>import("./PatternsPage-7d0bd7d8.js"),["assets/PatternsPage-7d0bd7d8.js","assets/vendor-d6de9d8b.js","assets/router-41a8dd64.js","assets/MagnifyingGlassIcon-c4ee28a5.js"])),gn=c.lazy(()=>_(()=>import("./PublicKnowledgePage-1bc1fea8.js"),["assets/PublicKnowledgePage-1bc1fea8.js","assets/vendor-d6de9d8b.js","assets/MagnifyingGlassIcon-c4ee28a5.js","assets/CheckCircleIcon-27af60e8.js","assets/router-41a8dd64.js"])),bn=c.lazy(()=>_(()=>import("./StreamingPage-65f3881f.js"),["assets/StreamingPage-65f3881f.js","assets/vendor-d6de9d8b.js","assets/router-41a8dd64.js","assets/PlusIcon-fa0a24a4.js"])),xn=c.lazy(()=>_(()=>import("./NotFound-207f2290.js"),["assets/NotFound-207f2290.js","assets/router-41a8dd64.js","assets/vendor-d6de9d8b.js"]));function wn(){const{theme:i}=qe();return u.jsx("div",{className:i==="dark"?"dark":"",children:u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:u.jsx(cn,{children:u.jsx(c.Suspense,{fallback:u.jsx("div",{className:"flex items-center justify-center min-h-96",children:u.jsx(fn,{size:"lg"})}),children:u.jsxs(We,{children:[u.jsx(P,{path:"/",element:u.jsx(He,{to:"/dashboard",replace:!0})}),u.jsx(P,{path:"/dashboard",element:u.jsx(hn,{})}),u.jsx(P,{path:"/projects",element:u.jsx(dn,{})}),u.jsx(P,{path:"/projects/:projectId",element:u.jsx(vn,{})}),u.jsx(P,{path:"/projects/:projectId/patterns",element:u.jsx(pn,{})}),u.jsx(P,{path:"/projects/:projectId/streaming",element:u.jsx(bn,{})}),u.jsx(P,{path:"/analysis/:id",element:u.jsx(mn,{})}),u.jsx(P,{path:"/knowledge/public",element:u.jsx(gn,{})}),u.jsx(P,{path:"/settings",element:u.jsx(yn,{})}),u.jsx(P,{path:"*",element:u.jsx(xn,{})})]})})})})})}function Cn({error:i,resetErrorBoundary:t}){return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:u.jsx("div",{className:"max-w-md w-full mx-auto",children:u.jsx("div",{className:"card",children:u.jsxs("div",{className:"card-body text-center",children:[u.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-error-100 dark:bg-error-900/20",children:u.jsx(Kt,{className:"h-6 w-6 text-error-600 dark:text-error-400","aria-hidden":"true"})}),u.jsx("h2",{className:"mt-4 text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Something went wrong"}),u.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"We're sorry, but an unexpected error occurred. Please try refreshing the page or contact support if the problem persists."}),!1,u.jsx("div",{className:"mt-6",children:u.jsxs("button",{type:"button",onClick:t,className:"btn-primary",children:[u.jsx(St,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Try again"]})}),u.jsxs("p",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:["Error ID: ",Date.now().toString(36)]})]})})})})}var se=(i=>(i[i.DEBUG=0]="DEBUG",i[i.INFO=1]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=3]="ERROR",i))(se||{});class L{static instance;logs=[];maxLogs=1e3;logLevel=1;constructor(){console.info("[Synapse] Logger initialized")}static getInstance(){return L.instance||(L.instance=new L),L.instance}setLogLevel(t){this.logLevel=t,this.info("Logger",`Log level set to ${se[t]}`)}shouldLog(t){return t>=this.logLevel}createLogEntry(t,r,e,n){const s={timestamp:new Date().toISOString(),level:t,component:r,message:e,data:n};return this.logs.push(s),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(-this.maxLogs)),s}log(t,r,e,n){if(!this.shouldLog(t))return;const s=this.createLogEntry(t,r,e,n),a=se[t],o=`[${s.timestamp}] [${a}] [${r}]`;switch(t){case 0:console.debug(o,e,n||"");break;case 1:console.info(o,e,n||"");break;case 2:console.warn(o,e,n||"");break;case 3:console.error(o,e,n||""),n&&n instanceof Error&&console.error("Stack trace:",n.stack);break}}debug(t,r,e){this.log(0,t,r,e)}info(t,r,e){this.log(1,t,r,e)}warn(t,r,e){this.log(2,t,r,e)}error(t,r,e){this.log(3,t,r,e)}getLogs(){return[...this.logs]}getLogsByLevel(t){return this.logs.filter(r=>r.level===t)}clearLogs(){this.logs=[],this.info("Logger","Logs cleared")}exportLogs(){return JSON.stringify(this.logs,null,2)}}const oe=L.getInstance(),On=(i,t)=>{oe.error("ErrorBoundary","React error caught",{error:i.message,stack:i.stack,componentStack:t.componentStack})};oe.info("App","Synapse frontend starting up");const En=new bt({defaultOptions:{queries:{retry:(i,t)=>t?.status===404?!1:i<3,staleTime:5*60*1e3}}});function jn(){return u.jsx(Et,{FallbackComponent:Cn,onError:(i,t)=>{On(i,t),console.error("React Error Boundary:",i,t)},children:u.jsx(Ct,{client:En,children:u.jsx(Ve,{children:u.jsx(rn,{children:u.jsx(sn,{children:u.jsx(wn,{})})})})})})}oe.debug("App","Rendering React application");ne.createRoot(document.getElementById("root")).render(u.jsx(R.StrictMode,{children:u.jsx(jn,{})}));export{St as A,Kt as E,Wt as F,zt as H,fn as L,Z as S,nn as X,J as _,Et as a,y as b,I as c,O as d,tt as e,B as f,vt as g,_e as h,we as i,u as j,ee as k,Y as l,C as n,_n as p,Oe as r,kn as s,nt as t,Sn as u};
